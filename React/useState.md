# useState는 비동기적으로 작동하는가?

airbnb 클론코딩 당시 여러 페이지를 넘어가며 유저에게 입력된 인풋 값을 모아 마지막 페이지에서 백엔드로 송신하는 코드를 짜야 했다. 
그러나 마지막 페이지의 입력 값이 잘 반영되지 않는 문제가 있었고 당시 검색을 통해 useState가 비동기적으로 작동하는 것이 원인이라 생각하여 마지막 페이지의 입력값만 별개로 처리했었다.
그러면 useState는 정말로 비동기적으로 작동할까?

## 리액트 컴포넌트의 mount 과정

함수형 컴포넌트가 호출되면 화면에 렌더링 하는 것 이외에도 많은 일이 벌어진다. 그 중 useState훅으로 저장된 초기값을 배열화하여 저장하는 것도 있다. 문제는 자바스크립트에서 원시값은 재할당만 가능하고 수정이 불가능하다는 점이다. 
초기에 빈 스트링 값으로 저장된 state는 set으로 새로 입력해도 기존 빈 스트링 값을 유지하고 있다. 재할당을 통해 값이 변하려면 새로운 메모리 주소를 사용하는데 초기 state는 랜더링을 다시 한 번 하기 전까지는 기존 값이 변화하지 않는 것이다.
따라서 정석적인 수정법은 sideEffect를 관리하는 useEffect 훅을 사용하고 그 안에서 백엔드와 비동기 통신을 하는 것이다.
